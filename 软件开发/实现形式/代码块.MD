# JAVA代码块

    java、代码块

## 概念

### 普通块、构造块、静态块

```java
public class Test{
    static {
        System.out.println("静态块，类加载时一起加载，只执行一次，先于对象存在，只能访问静态属性静态方法，创建静态工厂、数据库初始化信息eg.");
    }
    {
        System.out.println("构造块，可实现在方法外写代码，用的少");
    }
    public Test() {
        System.out.println("空构造器");
    }
    public void a() {
        System.out.println("方法逻辑");
        {
            System.out.println("普通块，可以加入任何逻辑");
            // 限定局部变量作用范围
        }
    }
}
```

### 同步块

多线程中使用，待完善

## 加载运行周期

1. 类加载时，静态块第一时间执行，只执行一次，使用场景：创建静态工厂、数据库初始化信息eg.一般用于全局性初始化操作
2. 构造块（不常用）先于构造器执行
3. 调用构造器
4. 调用普通方法
5. （普通方法执行中）调用普通块
6. 再次定义对象时，上述2~5步骤会再次执行
