# Mysql新增字段没有反应

        MySQL

## 背景

业务需要在某表添加字段，存储base64编码的签字图片，所以有此问题

## 问题描述

复制调整后执行某修改表添加字段的语句：

```sql
alter table t_s add test longtext null comment '签字';
```

发现执行了一段时间后没有反应，一直是正在执行的状态，于是放到一边处理别的问题，一个多小时以后回来发现还是正在执行。执行的时候查表数据也查不了。

## 原因分析

猜测是不是语句有问题这个表不适合这么写，于是换用idea的数据库连接工具，执行不动。
再次猜想是不是idea或者用的这个MySQL账户不行，发现是root账户，换用navicat设计表功能，添加字段，保存，navicat卡死了。
搜了一下发现[出现这种状况可能是因为表锁定了](https://zidian.openjq.com/?id=21224)，使用如下命令：
```sql
show open tables where In_use > 0;
```
执行一下，发现确实有占用，可惜在试用navicat之前没有用一下这个命令，不知道是因为某个系统任务还是什么地方导致的这个问题。
目前这个状态似乎没有什么可以修改查看的地方，只能试一下重启MySQL了。

## 解决方案

重启MySQL，问题消失，可以修改表了。
