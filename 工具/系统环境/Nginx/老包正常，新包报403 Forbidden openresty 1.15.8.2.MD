# 老包正常，新包报403 Forbidden openresty 1.15.8.2

## 背景

拆分甲方某服务器前端vue项目，原来是3合1的，没有其源码，只能将其一另作部署。

## 问题描述

如题，编辑好nginx新主机配置，用原来的老包复制一份，发现正常。

然而，我打好新包放上去以后，报错：

```
报403 Forbidden
openresty/1.15.8.2
```

nginx日志：

```
[error] 4984#9200: *128301 directory index of "./html/" is forbidden, client: 127.0.0.1, server: localhost, request: "GET / HTTP/1.1", host: "localhost:91"
```

然而，老包就是好的，换了新包，怎么调配置，都报这个403

## 原因分析

ai助手说权限、路径或配置有问题，我检查了一圈没发现问题。

后来终于发现，是win-rar解压工具多解压了一层目录，本来是`./html/`成了`./html/html/`，解压工具的锅，真的是路径有问题。

## 解决方案

把解压出来的包往外提一层。

另外，win-rar也可以手动控制，
打开win-rar窗口，
点击选项》设置》路径，
最下方，不要勾选`路径中追加文件名`，勾选`从解压路径移除多余文件夹`
点击确定，再次解压，发现文件夹层数已经不会多余一层了。
